<section class="auth-wrapper">
  <div class="auth-card">
    <h1 class="title">Login</h1>
    <p class="subtitle">Enter your credentials to continue</p>

    <form #form="ngForm" (ngSubmit)="login()" novalidate>
      <!-- Email -->
      <div class="field">
        <label class="label" for="email">Email</label>
        <div class="input-underline">
          <input
            id="email"
            name="email"
            type="email"
            [(ngModel)]="email"
            required
            email
            autocomplete="email"
            aria-describedby="emailHelp"
          />
          <span class="underline"></span>
        </div>
      </div>

      <!-- Password -->
      <div class="field">
        <label class="label" for="password">Password</label>
        <div class="input-underline with-action">
          <input
            id="password"
            name="password"
            [type]="showPassword ? 'text' : 'password'"
            [(ngModel)]="password"
            required
            minlength="6"
            autocomplete="current-password"
          />
          <button type="button" class="ghost-action" (click)="togglePassword()">
            {{ showPassword ? 'Hide' : 'Show' }}
          </button>
          <span class="underline"></span>
        </div>
      </div>

      <div class="actions">
        <button type="submit" class="btn primary" [disabled]="loading" [class.loading]="loading">
          <span class="spinner" *ngIf="loading" aria-hidden="true"></span>
          {{ loading ? 'Logging...' : 'Login' }}
        </button>

        <a routerLink="/auth/register" class="link">Create an account</a>
      </div>

      <div class="alert error" *ngIf="errorMsg">
        {{ errorMsg }}
      </div>
    </form>
  </div>
</section>
